{"version":3,"sources":["src/scripts/todo.js"],"names":["form","document","getElementById","input","querySelector","pendingList","doneList","PENDING_LS","DONE_LS","pendingTasks","doneTasks","getTaskObject","text","id","String","Date","getTime","findItem","list","find","task","addToPending","push","addToDone","removeFromPending","filter","removeFromDone","deleteTask","e","li","target","parentNode","removeChild","saveState","checkTask","event","paintDoneTask","undoTask","paintPendingTask","makeTaskItem","createElement","label","deleteBtn","innerText","classList","add","addEventListener","append","ui","checkBtn","undoBtn","localStorage","setItem","JSON","stringify","handleSubmit","preventDefault","value","taskObj","loadState","parse","getItem","forEach","item","init"],"mappings":"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","file":"todo.0993f1ea.js","sourceRoot":"..","sourcesContent":["const form = document.getElementById('js-form'),\n      input = form.querySelector('input'),\n      pendingList = document.getElementById('js-pending'),\n      doneList = document.getElementById('js-done');\n\nconst PENDING_LS = 'PENDING',\n      DONE_LS = 'DONE';\n\nlet pendingTasks = [],\n    doneTasks = [];\n\n// Task object\nfunction getTaskObject(text) {\n  return {\n    id: String(new Date().getTime()),\n    text,\n  };\n}\n\n// Utility\nfunction findItem(id, list) {\n  return list.find((task) => task.id === id);\n}\n\nfunction addToPending(task) {\n  pendingTasks.push(task);\n}\n\nfunction addToDone(task) {\n  doneTasks.push(task);\n}\n\nfunction removeFromPending(id) {\n  pendingTasks = pendingTasks.filter((task) => task.id !== id);\n}\n\nfunction removeFromDone(id) {\n  doneTasks = doneTasks.filter((task) => task.id !== id);\n}\n\n// Delete\nfunction deleteTask(e) {\n  const li = e.target.parentNode;\n  li.parentNode.removeChild(li);\n  removeFromPending(li.id);\n  removeFromDone(li.id);\n  saveState();\n}\n\n// Do/Undo\nfunction checkTask(event) {\n  const target = event.target.parentNode;\n  target.parentNode.removeChild(target);\n  const task = findItem(target.id, pendingTasks);\n  removeFromPending(target.id);\n  addToDone(task);\n  paintDoneTask(task);\n  saveState();\n}\n\nfunction undoTask(event) {\n  const target = event.target.parentNode;\n  target.parentNode.removeChild(target);\n  const task = findItem(target.id, doneTasks);\n  removeFromDone(target.id);\n  addToPending(task);\n  paintPendingTask(task);\n  saveState();\n}\n\n// Paint\nfunction makeTaskItem(task) {\n  const li = document.createElement('li');\n  const label = document.createElement('span');\n  const deleteBtn = document.createElement('button');\n  label.innerText = task.text;\n  deleteBtn.classList.add('btn-delete');\n  deleteBtn.innerText = '×';\n  deleteBtn.addEventListener('click', deleteTask);\n  li.append(label, deleteBtn);\n  li.id = task.id;\n\n  return li;\n}\n\nfunction paintPendingTask(task) {\n  const ui = makeTaskItem(task);\n  const checkBtn = document.createElement('button');\n  checkBtn.classList.add('btn-check');\n  checkBtn.innerText = '✌︎';\n  checkBtn.addEventListener('click', checkTask);\n  ui.append(checkBtn);\n  pendingList.append(ui);\n}\n\nfunction paintDoneTask(task) {\n  const ui = makeTaskItem(task);\n  const undoBtn = document.createElement('button');\n  undoBtn.classList.add('btn-undo');\n  undoBtn.innerText = '←';\n  undoBtn.addEventListener('click', undoTask);\n  ui.append(undoBtn);\n  doneList.append(ui);\n}\n\n// Save\nfunction saveState() {\n  localStorage.setItem(PENDING_LS, JSON.stringify(pendingTasks));\n  localStorage.setItem(DONE_LS, JSON.stringify(doneTasks));\n}\n\n// Submit\nfunction handleSubmit(event) {\n  event.preventDefault();\n  if (input.value === '') return;\n\n  const taskObj = getTaskObject(input.value);\n  input.value = '';\n\n  paintPendingTask(taskObj);\n  addToPending(taskObj);\n  saveState();\n}\n\n// Load\nfunction loadState() {\n  pendingTasks = JSON.parse(localStorage.getItem(PENDING_LS)) || [];\n  doneTasks = JSON.parse(localStorage.getItem(DONE_LS)) || [];\n\n  pendingTasks.forEach((item) => paintPendingTask(item));\n  doneTasks.forEach((item) => paintDoneTask(item));\n}\n\nfunction init() {\n  loadState();\n  form.addEventListener('submit', handleSubmit);\n}\n\ninit();\n"]}